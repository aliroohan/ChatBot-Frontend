<div class="otp-container">
    <div class="otp-card">
        <h2>OTP Verification</h2>
        <p class="instruction">Please enter the verification code sent to <strong>{{ email }}</strong></p>
        
        <form [formGroup]="otpForm" (ngSubmit)="onSubmit()">
            <div class="otp-inputs">
                <input 
                    type="text" 
                    formControlName="digit1" 
                    maxlength="1" 
                    autocomplete="off"
                    class="otp-input" 
                    #digit1
                    (input)="onDigitInput($event, digit2)"
                    [ngClass]="{ 'is-invalid': submitted && formControls['digit1'].errors }"
                >
                <input 
                    type="text" 
                    formControlName="digit2" 
                    maxlength="1" 
                    autocomplete="off"
                    class="otp-input" 
                    #digit2
                    (input)="onDigitInput($event, digit3)"
                    [ngClass]="{ 'is-invalid': submitted && formControls['digit2'].errors }"
                >
                <input 
                    type="text" 
                    formControlName="digit3" 
                    maxlength="1" 
                    autocomplete="off"
                    class="otp-input" 
                    #digit3
                    (input)="onDigitInput($event, digit4)"
                    [ngClass]="{ 'is-invalid': submitted && formControls['digit3'].errors }"
                >
                <input 
                    type="text" 
                    formControlName="digit4" 
                    maxlength="1" 
                    autocomplete="off"
                    class="otp-input" 
                    #digit4
                    [ngClass]="{ 'is-invalid': submitted && formControls['digit4'].errors }"
                >
            </div>
            
            <div *ngIf="submitted && (otpForm.invalid)" class="error-message">
                Please enter a valid 4-digit code
            </div>
            
            <div class="form-group">
                <button type="submit" class="btn-verify">Verify OTP</button>
            </div>
            
            <div class="resend-container">
                <span *ngIf="remainingTime > 0">Resend code in {{ remainingTime }}s</span>
                <button 
                    type="button" 
                    *ngIf="remainingTime <= 0"
                    class="btn-resend" 
                    (click)="resendOtp()"
                >
                    Resend Code
                </button>
            </div>
        </form>
    </div>
</div>
